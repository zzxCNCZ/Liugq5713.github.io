<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>拆包 | 重学前端</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.be610239.css" as="style"><link rel="preload" href="/assets/js/app.b2a49aba.js" as="script"><link rel="preload" href="/assets/js/2.c7500855.js" as="script"><link rel="preload" href="/assets/js/191.dc1dc5ac.js" as="script"><link rel="prefetch" href="/assets/js/10.7b91428f.js"><link rel="prefetch" href="/assets/js/100.b480e9e9.js"><link rel="prefetch" href="/assets/js/101.5b1335d8.js"><link rel="prefetch" href="/assets/js/102.827118f2.js"><link rel="prefetch" href="/assets/js/103.72c78e31.js"><link rel="prefetch" href="/assets/js/104.b946bb67.js"><link rel="prefetch" href="/assets/js/105.56768bae.js"><link rel="prefetch" href="/assets/js/106.d8f41659.js"><link rel="prefetch" href="/assets/js/107.bcd889a7.js"><link rel="prefetch" href="/assets/js/108.d99303e2.js"><link rel="prefetch" href="/assets/js/109.53435e6f.js"><link rel="prefetch" href="/assets/js/11.0b301141.js"><link rel="prefetch" href="/assets/js/110.005c7547.js"><link rel="prefetch" href="/assets/js/111.8d21d498.js"><link rel="prefetch" href="/assets/js/112.ed0eee2e.js"><link rel="prefetch" href="/assets/js/113.6c6589d1.js"><link rel="prefetch" href="/assets/js/114.a1e24f06.js"><link rel="prefetch" href="/assets/js/115.6f9092ec.js"><link rel="prefetch" href="/assets/js/116.a6e79bc6.js"><link rel="prefetch" href="/assets/js/117.07ede3f4.js"><link rel="prefetch" href="/assets/js/118.69f1e676.js"><link rel="prefetch" href="/assets/js/119.255de1da.js"><link rel="prefetch" href="/assets/js/12.b83fd791.js"><link rel="prefetch" href="/assets/js/120.2997c806.js"><link rel="prefetch" href="/assets/js/121.9dc7128c.js"><link rel="prefetch" href="/assets/js/122.adef32fd.js"><link rel="prefetch" href="/assets/js/123.6d460a9a.js"><link rel="prefetch" href="/assets/js/124.a72cf4f1.js"><link rel="prefetch" href="/assets/js/125.1fc32cb5.js"><link rel="prefetch" href="/assets/js/126.151716f5.js"><link rel="prefetch" href="/assets/js/127.31672041.js"><link rel="prefetch" href="/assets/js/128.1553b6d2.js"><link rel="prefetch" href="/assets/js/129.b4c3b7f1.js"><link rel="prefetch" href="/assets/js/13.93189dce.js"><link rel="prefetch" href="/assets/js/130.f8c778cd.js"><link rel="prefetch" href="/assets/js/131.c7cd840d.js"><link rel="prefetch" href="/assets/js/132.1f914521.js"><link rel="prefetch" href="/assets/js/133.d93ae1bd.js"><link rel="prefetch" href="/assets/js/134.e1bcaa19.js"><link rel="prefetch" href="/assets/js/135.0c7326be.js"><link rel="prefetch" href="/assets/js/136.b21a5547.js"><link rel="prefetch" href="/assets/js/137.37d8de7e.js"><link rel="prefetch" href="/assets/js/138.95818d35.js"><link rel="prefetch" href="/assets/js/139.57fdf028.js"><link rel="prefetch" href="/assets/js/14.d0d01078.js"><link rel="prefetch" href="/assets/js/140.fb012186.js"><link rel="prefetch" href="/assets/js/141.1d91c438.js"><link rel="prefetch" href="/assets/js/142.e22a2771.js"><link rel="prefetch" href="/assets/js/143.fffbc38e.js"><link rel="prefetch" href="/assets/js/144.3fa24ab5.js"><link rel="prefetch" href="/assets/js/145.fb0690a4.js"><link rel="prefetch" href="/assets/js/146.f690fc16.js"><link rel="prefetch" href="/assets/js/147.c5791833.js"><link rel="prefetch" href="/assets/js/148.07bf0f8c.js"><link rel="prefetch" href="/assets/js/149.d552a34f.js"><link rel="prefetch" href="/assets/js/15.c3783f9c.js"><link rel="prefetch" href="/assets/js/150.db5cf8a8.js"><link rel="prefetch" href="/assets/js/151.bc6cd996.js"><link rel="prefetch" href="/assets/js/152.0b98e81d.js"><link rel="prefetch" href="/assets/js/153.bb9f2947.js"><link rel="prefetch" href="/assets/js/154.278b707a.js"><link rel="prefetch" href="/assets/js/155.d265c117.js"><link rel="prefetch" href="/assets/js/156.f8a68ff6.js"><link rel="prefetch" href="/assets/js/157.09dec81f.js"><link rel="prefetch" href="/assets/js/158.2cdc7eee.js"><link rel="prefetch" href="/assets/js/159.01d243c5.js"><link rel="prefetch" href="/assets/js/16.b5a404a9.js"><link rel="prefetch" href="/assets/js/160.e850ee70.js"><link rel="prefetch" href="/assets/js/161.08178b98.js"><link rel="prefetch" href="/assets/js/162.bbb3dc05.js"><link rel="prefetch" href="/assets/js/163.640ac94e.js"><link rel="prefetch" href="/assets/js/164.c66290e1.js"><link rel="prefetch" href="/assets/js/165.affdd8aa.js"><link rel="prefetch" href="/assets/js/166.be024840.js"><link rel="prefetch" href="/assets/js/167.d2db2da5.js"><link rel="prefetch" href="/assets/js/168.92d0f0b0.js"><link rel="prefetch" href="/assets/js/169.deb902c4.js"><link rel="prefetch" href="/assets/js/17.34be5db7.js"><link rel="prefetch" href="/assets/js/170.0336f21c.js"><link rel="prefetch" href="/assets/js/171.24682c41.js"><link rel="prefetch" href="/assets/js/172.b93af6c1.js"><link rel="prefetch" href="/assets/js/173.f8ab6363.js"><link rel="prefetch" href="/assets/js/174.90e5de43.js"><link rel="prefetch" href="/assets/js/175.3d2563fa.js"><link rel="prefetch" href="/assets/js/176.6ce9cb7e.js"><link rel="prefetch" href="/assets/js/177.edfc0645.js"><link rel="prefetch" href="/assets/js/178.fc3e4193.js"><link rel="prefetch" href="/assets/js/179.70837492.js"><link rel="prefetch" href="/assets/js/18.e6c701f2.js"><link rel="prefetch" href="/assets/js/180.61337d70.js"><link rel="prefetch" href="/assets/js/181.53ee2156.js"><link rel="prefetch" href="/assets/js/182.53c1bd3a.js"><link rel="prefetch" href="/assets/js/183.a530f585.js"><link rel="prefetch" href="/assets/js/184.14864fa2.js"><link rel="prefetch" href="/assets/js/185.95ec884f.js"><link rel="prefetch" href="/assets/js/186.bf229224.js"><link rel="prefetch" href="/assets/js/187.99e0423e.js"><link rel="prefetch" href="/assets/js/188.5fa64103.js"><link rel="prefetch" href="/assets/js/189.21abb9f5.js"><link rel="prefetch" href="/assets/js/19.fcc51197.js"><link rel="prefetch" href="/assets/js/190.bb56ff23.js"><link rel="prefetch" href="/assets/js/192.6863a7b4.js"><link rel="prefetch" href="/assets/js/193.addad493.js"><link rel="prefetch" href="/assets/js/194.13747a35.js"><link rel="prefetch" href="/assets/js/195.5248cb37.js"><link rel="prefetch" href="/assets/js/196.5888c2a6.js"><link rel="prefetch" href="/assets/js/20.c34e5f5e.js"><link rel="prefetch" href="/assets/js/21.6fccfeef.js"><link rel="prefetch" href="/assets/js/22.7a38fd47.js"><link rel="prefetch" href="/assets/js/23.8bfd7a96.js"><link rel="prefetch" href="/assets/js/24.184437d9.js"><link rel="prefetch" href="/assets/js/25.74f6f6cc.js"><link rel="prefetch" href="/assets/js/26.d5a5a0fd.js"><link rel="prefetch" href="/assets/js/27.fe6767e5.js"><link rel="prefetch" href="/assets/js/28.8f9002d3.js"><link rel="prefetch" href="/assets/js/29.73a96460.js"><link rel="prefetch" href="/assets/js/3.17ce7fed.js"><link rel="prefetch" href="/assets/js/30.4d5ff01e.js"><link rel="prefetch" href="/assets/js/31.21d43d72.js"><link rel="prefetch" href="/assets/js/32.35a32287.js"><link rel="prefetch" href="/assets/js/33.240a48dd.js"><link rel="prefetch" href="/assets/js/34.4beb5e61.js"><link rel="prefetch" href="/assets/js/35.e36e3c8f.js"><link rel="prefetch" href="/assets/js/36.321b8794.js"><link rel="prefetch" href="/assets/js/37.74aedc7a.js"><link rel="prefetch" href="/assets/js/38.fb824725.js"><link rel="prefetch" href="/assets/js/39.0f4f70bd.js"><link rel="prefetch" href="/assets/js/4.4fbea4d8.js"><link rel="prefetch" href="/assets/js/40.bf1c22d6.js"><link rel="prefetch" href="/assets/js/41.c2b8fdbf.js"><link rel="prefetch" href="/assets/js/42.bab487df.js"><link rel="prefetch" href="/assets/js/43.3fc2d919.js"><link rel="prefetch" href="/assets/js/44.b3a5d1ee.js"><link rel="prefetch" href="/assets/js/45.9ea7bb46.js"><link rel="prefetch" href="/assets/js/46.687b2a97.js"><link rel="prefetch" href="/assets/js/47.8e20a412.js"><link rel="prefetch" href="/assets/js/48.61a09d24.js"><link rel="prefetch" href="/assets/js/49.3a6d9954.js"><link rel="prefetch" href="/assets/js/5.c556dbee.js"><link rel="prefetch" href="/assets/js/50.23f7aab0.js"><link rel="prefetch" href="/assets/js/51.89e4af11.js"><link rel="prefetch" href="/assets/js/52.77de0dc7.js"><link rel="prefetch" href="/assets/js/53.08ef751a.js"><link rel="prefetch" href="/assets/js/54.e3e5afd3.js"><link rel="prefetch" href="/assets/js/55.a778c9b2.js"><link rel="prefetch" href="/assets/js/56.3c864b66.js"><link rel="prefetch" href="/assets/js/57.9526b0da.js"><link rel="prefetch" href="/assets/js/58.a5daf3bb.js"><link rel="prefetch" href="/assets/js/59.61435a87.js"><link rel="prefetch" href="/assets/js/6.ca73931c.js"><link rel="prefetch" href="/assets/js/60.2217491d.js"><link rel="prefetch" href="/assets/js/61.dfaa98fc.js"><link rel="prefetch" href="/assets/js/62.8903a15f.js"><link rel="prefetch" href="/assets/js/63.947b8814.js"><link rel="prefetch" href="/assets/js/64.b48c352f.js"><link rel="prefetch" href="/assets/js/65.213246cb.js"><link rel="prefetch" href="/assets/js/66.cb01e5c2.js"><link rel="prefetch" href="/assets/js/67.eaaa9208.js"><link rel="prefetch" href="/assets/js/68.85792bb5.js"><link rel="prefetch" href="/assets/js/69.bb9e1efa.js"><link rel="prefetch" href="/assets/js/7.c607715a.js"><link rel="prefetch" href="/assets/js/70.1defeb73.js"><link rel="prefetch" href="/assets/js/71.3a86851d.js"><link rel="prefetch" href="/assets/js/72.db454f38.js"><link rel="prefetch" href="/assets/js/73.613fe1f0.js"><link rel="prefetch" href="/assets/js/74.54232cc1.js"><link rel="prefetch" href="/assets/js/75.3b4da387.js"><link rel="prefetch" href="/assets/js/76.509d694a.js"><link rel="prefetch" href="/assets/js/77.45deeafb.js"><link rel="prefetch" href="/assets/js/78.6f4bf8e7.js"><link rel="prefetch" href="/assets/js/79.1ef00a3c.js"><link rel="prefetch" href="/assets/js/8.f9075975.js"><link rel="prefetch" href="/assets/js/80.f9282b1d.js"><link rel="prefetch" href="/assets/js/81.5b760314.js"><link rel="prefetch" href="/assets/js/82.22116118.js"><link rel="prefetch" href="/assets/js/83.14d68084.js"><link rel="prefetch" href="/assets/js/84.01ed2e21.js"><link rel="prefetch" href="/assets/js/85.46d0c3de.js"><link rel="prefetch" href="/assets/js/86.d3e831fa.js"><link rel="prefetch" href="/assets/js/87.dc9bb8a6.js"><link rel="prefetch" href="/assets/js/88.69c239ab.js"><link rel="prefetch" href="/assets/js/89.da743d0f.js"><link rel="prefetch" href="/assets/js/9.c8e52589.js"><link rel="prefetch" href="/assets/js/90.847416e2.js"><link rel="prefetch" href="/assets/js/91.6010d402.js"><link rel="prefetch" href="/assets/js/92.f33dea95.js"><link rel="prefetch" href="/assets/js/93.1b9ebe5c.js"><link rel="prefetch" href="/assets/js/94.d8b32121.js"><link rel="prefetch" href="/assets/js/95.b762010a.js"><link rel="prefetch" href="/assets/js/96.fb1481e1.js"><link rel="prefetch" href="/assets/js/97.1e70add7.js"><link rel="prefetch" href="/assets/js/98.2b769129.js"><link rel="prefetch" href="/assets/js/99.c7c9b49b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.be610239.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hero.png" alt="重学前端" class="logo"> <span class="site-name can-hide">重学前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/fe/" class="nav-link">
  Fe
</a></div><div class="nav-item"><a href="/browser/" class="nav-link">
  Browser
</a></div><div class="nav-item"><a href="/lib/" class="nav-link">
  Lib
</a></div><div class="nav-item"><a href="/tool/" class="nav-link router-link-active">
  Tool
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  Algorithm
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/fe/" class="nav-link">
  Fe
</a></div><div class="nav-item"><a href="/browser/" class="nav-link">
  Browser
</a></div><div class="nav-item"><a href="/lib/" class="nav-link">
  Lib
</a></div><div class="nav-item"><a href="/tool/" class="nav-link router-link-active">
  Tool
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  Algorithm
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>GIT</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/git/" class="sidebar-link">收集</a></li><li><a href="/tool/git/knowledge.html" class="sidebar-link">Git 基本知识</a></li><li><a href="/tool/git/base.html" class="sidebar-link">基础操作</a></li><li><a href="/tool/git/branch.html" class="sidebar-link">分支操作</a></li><li><a href="/tool/git/config.html" class="sidebar-link">配置</a></li><li><a href="/tool/git/log.html" class="sidebar-link">历史记录</a></li><li><a href="/tool/git/reset.html" class="sidebar-link">回滚</a></li><li><a href="/tool/git/stash.html" class="sidebar-link">内容检出</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/" aria-current="page" class="sidebar-link">前端</a></li><li><a href="/tool/shell.html" class="sidebar-link">shell 脚本</a></li><li><a href="/tool/iterm.html" class="sidebar-link">命令行 iterm</a></li><li><a href="/tool/babel.html" class="sidebar-link">Babel</a></li><li><a href="/tool/chrome.html" class="sidebar-link">浏览器 chrome</a></li><li><a href="/tool/eslint.html" class="sidebar-link">代码检测 Eslint</a></li><li><a href="/tool/github.html" class="sidebar-link">在线交友 GitHub</a></li><li><a href="/tool/husky.html" class="sidebar-link">husky</a></li><li><a href="/tool/ci.html" class="sidebar-link">持续构建 Continuous integration</a></li><li><a href="/tool/word.html" class="sidebar-link">常见开发英语 word</a></li><li><a href="/tool/nginx.html" class="sidebar-link">静态服务器 nginx</a></li><li><a href="/tool/npm.html" class="sidebar-link">Node 包管理器 Npm</a></li><li><a href="/tool/yarn.html" class="sidebar-link">yarn</a></li><li><a href="/tool/mac.html" class="sidebar-link">MAC 使用指南</a></li><li><a href="/tool/windows.html" class="sidebar-link">windows</a></li><li><a href="/tool/vscode.html" class="sidebar-link">编辑器 vscode</a></li><li><a href="/tool/puppeteer.html" class="sidebar-link">Puppeteer</a></li><li><a href="/tool/webpack.html" class="sidebar-link">打包工具 Webpack</a></li><li><a href="/tool/webpack-split-chunks.html" aria-current="page" class="active sidebar-link">拆包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tool/webpack-split-chunks.html#bundle-splitting" class="sidebar-link">Bundle Splitting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tool/webpack-split-chunks.html#防止重复打包" class="sidebar-link">防止重复打包</a></li></ul></li><li class="sidebar-sub-header"><a href="/tool/webpack-split-chunks.html#code-splitting" class="sidebar-link">Code Splitting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tool/webpack-split-chunks.html#路由懒加载" class="sidebar-link">路由懒加载</a></li><li class="sidebar-sub-header"><a href="/tool/webpack-split-chunks.html#资源预加载" class="sidebar-link">资源预加载</a></li></ul></li><li class="sidebar-sub-header"><a href="/tool/webpack-split-chunks.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/tool/webpack-deep.html" class="sidebar-link">Webpack 原理</a></li><li><a href="/tool/webpackQA.html" class="sidebar-link">webpack QA</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="拆包"><a href="#拆包" class="header-anchor">#</a> <a href="https://hackernoon.com/the-100-correct-way-to-split-your-chunks-with-webpack-f8a9df5b7758" target="_blank" rel="noopener noreferrer">拆包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h1> <p>根据 <a href="https://webpack.js.org/glossary/" target="_blank" rel="noopener noreferrer">Webpack glossary<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，有两种拆包策略</p> <ul><li>Bundle Splitting：创建更多的较小的文件，方便缓存</li></ul> <div class="custom-block tip"><p class="custom-block-title">Bundle</p> <p>Produced from a number of distinct modules, bundles contain the final versions of source files that have already undergone the loading and compilation process.</p></div> <ul><li>Code Splitting：动态加载代码，用户访问时仅需加载需要的代码</li></ul> <div class="custom-block tip"><p class="custom-block-title">Chunks</p> <p>This webpack-specific term is used internally to manage the bundling process. Bundles are composed out of chunks, of which there are several types (e.g. entry and child). Typically, chunks directly correspond with the output bundles however, there are some configurations that don't yield a one-to-one relationship.</p></div> <h2 id="bundle-splitting"><a href="#bundle-splitting" class="header-anchor">#</a> Bundle Splitting</h2> <p>这里主要是和缓存有关，如果你有一个巨大的文件，改动了一行代码，整个文件就必须要更新，但是如果你将他拆分成两个文件，你仅仅需要更新修改了的文件。Bundle Splitting 对于缓存十分的有用</p> <div class="custom-block tip"><p class="custom-block-title">from memory cache vs from disk cache</p> <p>from memory cache 代表使用内存中的缓存，from disk cache 则代表使用的是硬盘中的缓存，浏览器读取缓存的顺序为 memory –&gt; disk。在浏览器中，浏览器会在 js 和图片等文件解析执行后直接存入内存缓存中，那么当刷新页面时只需直接从内存缓存中读取(from memory cache)；而 css 文件则会存入硬盘文件中，所以每次渲染页面都需要从硬盘读取缓存(from disk cache)。</p></div> <h3 id="防止重复打包"><a href="#防止重复打包" class="header-anchor">#</a> 防止重复打包</h3> <ul><li>启用拆分</li></ul> <p>// cacheGroups is where we define rules for how Webpack should group chunks into output files</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
  splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">optimization.splitChunks.chunks = 'all'</p> <p>put everything in node_modules into a file called vendors~main.js</p></div> <ul><li>拆分每个 npm 包</li></ul> <p>我们的 vendors.js 遇到了与我们原来的 main.js 文件相同的问题 - 对其中一部分的更改意味着重新下载它的所有部分。
那么为什么不为每个 npm 包提供单独的文件呢？这很容易做到。</p> <div class="language-js extra-class"><pre class="language-js"><code>cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
  vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
    <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// get the name. E.g. node_modules/packageName/not/this/part.js</span>
      <span class="token comment">// or node_modules/packageName</span>
      <span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[\\/]node_modules[\\/](.*?)([\\/]|$)/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token comment">// npm package names are URL-safe, but some servers don't like @ symbols</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="code-splitting"><a href="#code-splitting" class="header-anchor">#</a> Code Splitting</h2> <h3 id="路由懒加载"><a href="#路由懒加载" class="header-anchor">#</a> 路由懒加载</h3> <p>比如 vue 路由里面可以使用动态 import 方法引入组件</p> <h3 id="资源预加载"><a href="#资源预加载" class="header-anchor">#</a> 资源预加载</h3> <p><code>import(/* webpackPrefetch: true */ 'LoginModal');</code></p> <p>这种写法将会被 webpack 转为<code>&lt;link rel=&quot;prefetch&quot; href=&quot;login-modal-chunk.js&quot;&gt;</code>，并添加到 head 标签里面。</p> <ul><li>preload 是告诉浏览器页面必定需要的资源，浏览器<strong>一定</strong>会加载这些资源,以高优先级加载</li> <li>prefetch 是告诉浏览器页面可能需要的资源，浏览器<strong>不一定</strong>会加载这些资源,以低优先级加载</li></ul> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://juejin.im/post/5a7fb09bf265da4e8e785c38" target="_blank" rel="noopener noreferrer">用 preload 预加载页面资源<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/12/2020, 11:22:34 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tool/webpack.html" class="prev">
        打包工具 Webpack
      </a></span> <span class="next"><a href="/tool/webpack-deep.html">
        Webpack 原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b2a49aba.js" defer></script><script src="/assets/js/2.c7500855.js" defer></script><script src="/assets/js/191.dc1dc5ac.js" defer></script>
  </body>
</html>
