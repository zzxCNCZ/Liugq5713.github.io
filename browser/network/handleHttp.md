# HTTP 请求容错处理

超时处理

如果这个请求时间过长

错误处理

如果这个请求出错

重连处理

出错或者超时的时候，重新请求

将 error first 的函数封装成 promise 的函数

## TLDR

请求接口的时候，理想状态下，我们只需考虑发出请求，接收到数据，然后渲染页面就好了，但是你不知道你的用户在什么环境下面上网，因此在发出请求到接收数据的过程我们需要做一些容错处理。典型的有：超时处理，接口出错做一些兜底操作，超时重新请求接口。

## 准备

首先，我们用 setTimeout 模拟一个异步请求

```js
const request = () => {};
```

## 超时处理
