(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{465:function(t,s,a){"use strict";a.r(s);var r=a(42),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"命令行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令行"}},[t._v("#")]),t._v(" 命令行")]),t._v(" "),a("h2",{attrs:{id:"常用工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用工具"}},[t._v("#")]),t._v(" 常用工具")]),t._v(" "),a("ol",[a("li",[t._v("babel-cli/babel-env: 语法转换")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/tj/commander.js#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("commander"),a("OutboundLink")],1),t._v(": 命令行工具")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/flipxfx/download-git-repo#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("download-git-repo"),a("OutboundLink")],1),t._v(": 用来下载远程模板")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/npm/ini#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("ini"),a("OutboundLink")],1),t._v(": 格式转换")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("inquirer"),a("OutboundLink")],1),t._v(": 交互式命令行工具")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/ora#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("ora"),a("OutboundLink")],1),t._v(": 显示 loading 动画")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/chalk/chalk#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("chalk"),a("OutboundLink")],1),t._v(": 修改控制台输出内容样式")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/log-symbols#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("log-symbols"),a("OutboundLink")],1),t._v(": 显示出 √ 或 × 等的图标")])]),t._v(" "),a("h2",{attrs:{id:"shell-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-命令"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://aotu.io/notes/2015/12/23/building-command-line-tools-with-node-js/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("shell 命令"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("这第一行的注释是告诉 shell 如何解析这个脚本")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("#"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("env node\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, world!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("接下来我们需要在我们 package.json 里面的最顶级增加 bin 部分。设置的属性（在我们的例子中是 snippet）将会变成用户在他们的终端处理脚本使用的命令，属性值就是相对于 package.json 的脚本位置。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Apache-2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"snippet"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./index.js"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("现在我们已经有一个可以工作的 shell 命令了！让我们安装它并且测试结果。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$ npm install "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g\n$ snippet\nHello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" world"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),a("p",[t._v("真整洁！ npm install -g 实际上是将我们脚本链接到 path 变量的位置，所以我们能够在任何地方使用它。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$ which snippet\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("snippet\n$ readlink "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("snippet\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bitbucket"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("snippet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),a("p",[t._v("在开发环境中我们实际上使用 npm link 便利地将我们的 index.js 软链接到 path 变量的位置。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$ npm link\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("snippet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bitbucket"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("snippet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bitbucket"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("snippet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("kannonboy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bitbucket"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("snippet\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);