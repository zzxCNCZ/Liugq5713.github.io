(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{394:function(t,a,e){"use strict";e.r(a);var s=e(42),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编码"}},[t._v("#")]),t._v(" 编码")]),t._v(" "),e("h2",{attrs:{id:"ascii-码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ascii-码"}},[t._v("#")]),t._v(" ASCII 码")]),t._v(" "),e("p",[t._v("美国制定了一套字符编码，对英语字符与二进制位之间的关系，做了统一规定。这被称为 ASCII 码。ASCII 码一共规定了 128 个字符的编码")]),t._v(" "),e("h2",{attrs:{id:"非-ascii-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#非-ascii-编码"}},[t._v("#")]),t._v(" 非 ASCII 编码")]),t._v(" "),e("p",[t._v("比如汉字很多，需要使用多个字节表达一个符号")]),t._v(" "),e("h2",{attrs:{id:"unicode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unicode"}},[t._v("#")]),t._v(" Unicode")]),t._v(" "),e("p",[t._v("如果有一种编码，将世界上所有的符号都纳入其中。每一个符号都给予一个独一无二的编码，那么乱码问题就会消失。这就是 Unicode")]),t._v(" "),e("h3",{attrs:{id:"unicode-问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unicode-问题"}},[t._v("#")]),t._v(" Unicode 问题")]),t._v(" "),e("p",[t._v("Unicode 只是一个符号集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储")]),t._v(" "),e("p",[t._v("导致了两个问题：")]),t._v(" "),e("ul",[e("li",[t._v("出现了 Unicode 的多种存储方式，也就是说有许多种不同的二进制格式，可以用来表示 Unicode")]),t._v(" "),e("li",[t._v("Unicode 在很长一段时间内无法推广，直到互联网的出现")])]),t._v(" "),e("h2",{attrs:{id:"utf-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#utf-8"}},[t._v("#")]),t._v(" UTF-8")]),t._v(" "),e("p",[t._v("UTF-8 就是在互联网上使用最广的一种 "),e("strong",[t._v("Unicode 的实现方式")])]),t._v(" "),e("p",[t._v("UTF-8 的编码规则很简单，只有二条：")]),t._v(" "),e("ul",[e("li",[t._v("对于单字节的符号，字节的第一位设为 0，后面 7 位为这个符号的 Unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的")]),t._v(" "),e("li",[t._v("对于 n 字节的符号（n > 1），第一个字节的前 n 位都设为 1，第 n + 1 位设为 0，后面字节的前两位一律设为 10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码")])]),t._v(" "),e("h2",{attrs:{id:"前端应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端应用"}},[t._v("#")]),t._v(" 前端应用")]),t._v(" "),e("h3",{attrs:{id:"url-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#url-编码"}},[t._v("#")]),t._v(" URL 编码")]),t._v(" "),e("blockquote",[e("p",[t._v("URL 不允许一些特殊的字符，比如空格和斜线，因此就需要这些函数，空格将被转换为 "),e("code",[t._v("%20")]),t._v("，!将会被转化为"),e("code",[t._v("%21")]),t._v("。三对函数的安全字符（即不需要编码的字符）范围也不同")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("escape/unescape")]),t._v(" "),e("p",[t._v("针对宽字符做 unicode 编码，并针对码值做十六进制编码")])]),t._v(" "),e("li",[e("p",[t._v("encodeURI/decodeURI\n针对宽字节字符进行 UTF-8 编码，然后针对编码后的结果进行 ％ 替换，得到结果（encodeURIComponent 也一样）")]),t._v(" "),e("p",[t._v("encodeURI 是针对整个 URI 进行编码，encodeURI 所针对的是整个 URI，并不会对分隔符如/,?,=符号进行编码，否则破坏了 URI 的原有含义")])]),t._v(" "),e("li",[e("p",[t._v("encodeURIComponent/decodeURIComponent")]),t._v(" "),e("p",[t._v("encodeURIComponent 则是针对 URI 的某一部分进行编码，如查询字符串部分的&会被转义")])])]),t._v(" "),e("p",[t._v("The escape() function computes a new string in which certain characters have been replaced by a hexadecimal escape sequence.")]),t._v(" "),e("h3",{attrs:{id:"base64-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#base64-编码"}},[t._v("#")]),t._v(" base64 编码")]),t._v(" "),e("p",[t._v("base64 编码在前端通常用于图片和 icon 的编码，它将每 3 个 8 位字节为一组，分成 4 组 6 位字节，并且每个字节的高位补零，形成 4 个 8 位的字节，由此可看出 base64 编码是可逆推的。在大多数浏览器中，提供了 ASCII 字符的 base64 编码函数，即 window.btoa()。该函数无法针对宽字节进行 base64 编码，若针对中文编码，则需现转换位 UTF-8 编码，然后进行 base64 编码")]),t._v(" "),e("ul",[e("li",[t._v("base64 编码步骤")])]),t._v(" "),e("ol",[e("li",[t._v("将每三个字节作为一组，一共是 24 个二进制位。")]),t._v(" "),e("li",[t._v("第二步，将这 24 个二进制位分为四组，每个组有 6 个二进制位。")]),t._v(" "),e("li",[t._v("在每组前面加两个 00，扩展成 32 个二进制位，即四个字节。")]),t._v(" "),e("li",[t._v("根据下表，得到扩展后的每个字节的对应符号，这就是 Base64 的编码值。")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unicodeToBase64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("s")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("btoa")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unescape")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeURIComponent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"参考文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("字符编码笔记：ASCII，Unicode 和 UTF-8"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000005078371",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端开发中的字符编码"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2008/06/base64.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Base64 笔记"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);