(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{554:function(s,t,a){"use strict";a.r(t);var e=a(42),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"本地远程连接-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地远程连接-mysql"}},[s._v("#")]),s._v(" 本地远程连接 mysql")]),s._v(" "),a("h2",{attrs:{id:"mysqld-vs-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysqld-vs-mysql"}},[s._v("#")]),s._v(" mysqld vs mysql")]),s._v(" "),a("p",[s._v("mysqld is the server executable (one of them)\nmysql is the command line client\nmysqladmin is a maintainance or administrative utility")]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-16-04",target:"_blank",rel:"noopener noreferrer"}},[s._v("How To Install MySQL on Ubuntu 16.04"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.linode.com/docs/databases/mysql/how-to-install-mysql-on-debian-8/",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to Install MySQL on Debian 8 | Linode"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mysql_secure_installation\n")])])]),a("h2",{attrs:{id:"卸载-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载-mysql"}},[s._v("#")]),s._v(" 卸载 mysql")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" remove mysql-server\n")])])]),a("h2",{attrs:{id:"创建用户和数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建用户和数据库"}},[s._v("#")]),s._v(" 创建用户和数据库")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("create database testdb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ncreate user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'testuser'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ngrant all on testdb.* to "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'testuser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"给用户权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#给用户权限"}},[s._v("#")]),s._v(" 给用户权限")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://chartio.com/resources/tutorials/how-to-grant-all-privileges-on-a-database-in-mysql/",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to Grant All Privileges on a Database in MySQL"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("给用户权限之后需要刷新一下权限")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" GRANT ALL PRIVILEGES ON database_name.* TO "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'username'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH PRIVILEGES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h2",{attrs:{id:"远程连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程连接"}},[s._v("#")]),s._v(" 远程连接")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://stackoverflow.com/questions/11223235/mysql-root-access-from-all-hosts",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL root access from all hosts"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"bind-to-all-addresses"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bind-to-all-addresses"}},[s._v("#")]),s._v(" bind to all addresses:")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://stackoverflow.com/questions/11223235/mysql-root-access-from-all-hosts",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL root access from all hosts"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("我之前连接服务器数据库连接不上就是这个 bing addresses 的原因")]),s._v(" "),a("p",[s._v("The easiest way is to comment out the line in your my.cnf file:")]),s._v(" "),a("p",[a("code",[s._v("#bind-address = 127.0.0.1")])]),s._v(" "),a("p",[s._v("and restart mysql")]),s._v(" "),a("p",[a("code",[s._v("service mysql restart")]),s._v("\nBy default it binds only to localhost, but if you comment the line it binds to all interfaces it finds. Commenting out the line is equivalent to bind-address=*.")]),s._v(" "),a("p",[s._v("To check where mysql service has binded execute as root:")]),s._v(" "),a("p",[a("code",[s._v("netstat -tupan | grep mysql")])]),s._v(" "),a("h2",{attrs:{id:"导入数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入数据库"}},[s._v("#")]),s._v(" 导入数据库")]),s._v(" "),a("h2",{attrs:{id:"导入命令-mysql-vs-source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入命令-mysql-vs-source"}},[s._v("#")]),s._v(" 导入命令 mysql vs source")]),s._v(" "),a("p",[s._v("shell 命令 mysql -u root -p dbname < dbname.sql 会做一个批处理（一次执行多条），处理效率高")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysql -u 用户名 -p 密码 数据库名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" 要导入的数据库数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("runoob.sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("mysql 命令 source dbname.sql ，把文件中的 sql 每次执行一句并输出，效率较低")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建数据库")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用已创建的数据库")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" names utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置编码")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" source "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("abc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导入备份数据库")]),s._v("\n")])])]),a("h2",{attrs:{id:"查看配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看配置文件"}},[s._v("#")]),s._v(" 查看配置文件")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/52862020",target:"_blank",rel:"noopener noreferrer"}},[s._v("linux 下查看 mysql 的配置文件"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/mysql/debian.cnf\n")])])]),a("p",[s._v("或者 "),a("code",[s._v("sudo vi /etc/mysql/mariadb.conf.d/50-server.cnf")]),s._v(" 修改这里面的配置")]),s._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")])])}),[],!1,null,null,null);t.default=r.exports}}]);