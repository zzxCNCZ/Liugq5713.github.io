(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{347:function(t,a,s){"use strict";s.r(a);var e=s(38),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"组件-基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件-基础","aria-hidden":"true"}},[t._v("#")]),t._v(" 组件 基础")]),t._v(" "),s("h2",{attrs:{id:"动态组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态组件","aria-hidden":"true"}},[t._v("#")]),t._v(" 动态组件")]),t._v(" "),s("p",[t._v("通过 Vue 的 "),s("code",[t._v("<component>")]),t._v(" 元素加一个特殊的 is 特性"),s("code",[t._v('<component v-bind:is="currentTabComponent"></component>')])]),t._v(" "),s("p",[s("code",[t._v("<keep-alive>")]),t._v("元素将其动态组件包裹起来,将组件第一次被创建的时候缓存下来")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 失活的组件将会被缓存！"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("keep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("component v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bind"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currentTabComponent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("keep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h2",{attrs:{id:"异步组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异步组件","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/components-dynamic-async.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("异步组件"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Vue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"async-webpack-example"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这个特殊的 `require` 语法将会告诉 webpack")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自动将你的构建代码切割成多个包，这些包")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 会通过 Ajax 请求加载")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./my-async-component"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"单文件组件使用异步组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单文件组件使用异步组件","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/components-dynamic-async.html#%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("单文件组件使用异步组件"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("使用异步组件很简单，和路由懒加载是一样的。")]),t._v(" "),s("h2",{attrs:{id:"递归组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#递归组件","aria-hidden":"true"}},[t._v("#")]),t._v(" 递归组件")]),t._v(" "),s("p",[t._v("组件可以通过 name 选项在自己的模板中调用自身")]),t._v(" "),s("p",[t._v("会无限循环，所以确保递归调用的条件是条件性的")]),t._v(" "),s("h3",{attrs:{id:"防止组件之间的循环引用（a-依赖-b，b-依赖-a）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防止组件之间的循环引用（a-依赖-b，b-依赖-a）","aria-hidden":"true"}},[t._v("#")]),t._v(" 防止组件之间的循环引用（A 依赖 B，B 依赖 A）")]),t._v(" "),s("p",[t._v("给模块系统一个点，在那里 "),s("strong",[t._v("A 反正是需要 B 的，但是我们不需要先解析 B")])]),t._v(" "),s("p",[t._v("即在生命周期钩子 beforeCreate 时，去注册它")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("beforeCreate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("components"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TreeFolderContents "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./tree-folder-contents.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("或者在本地注册组件的时候，webpack 异步 import:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("components"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("TreeFolderContents")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./tree-folder-contents.vue"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"transtion-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#transtion-组件","aria-hidden":"true"}},[t._v("#")]),t._v(" transtion 组件")]),t._v(" "),s("p",[t._v("其动态效果只是局限在 Enter/Leave & List Transitions。（但是好像也没有其他很多的需求）")]),t._v(" "),s("h2",{attrs:{id:"组件样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件样式","aria-hidden":"true"}},[t._v("#")]),t._v(" 组件样式")]),t._v(" "),s("h2",{attrs:{id:"父组件修改子组件的样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父组件修改子组件的样式","aria-hidden":"true"}},[t._v("#")]),t._v(" 父组件修改子组件的样式")]),t._v(" "),s("p",[t._v("父组件改变子组件样式 深度选择器\n当你子组件使用了 scoped 但在父组件又想修改子组件的样式可以 通过 >>> 来实现：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("<style scoped>\n.a >>> .b")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n</style>\n")])])]),s("p",[t._v("将会编译成")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".a[data-v-f3f3eg9] .b")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" /_ ... _/ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"子组件的根元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子组件的根元素","aria-hidden":"true"}},[t._v("#")]),t._v(" 子组件的根元素")]),t._v(" "),s("p",[t._v("使用 scoped 后，父组件的样式将不会渗透到子组件中。不过一个子组件的根节点会同时受其父组件的 scoped CSS 和子组件的 scoped CSS 的影响。这样设计是为了让父组件可以从布局的角度出发，调整其子组件根元素的样式。")]),t._v(" "),s("h2",{attrs:{id:"mixin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mixin","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://vuejs.org/v2/guide/mixins.html#Option-Merging",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mixin"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("在 mixin 中最好写一个 这个 mixin 用于哪里，不然找起来太麻烦了")])]),t._v(" "),s("p",[t._v("vue 里面的 Mixin 主要是 Option Merge")]),t._v(" "),s("p",[t._v("Mixin hooks will be called before the component's own hooks.")]),t._v(" "),s("p",[t._v("The component’s options will take priority when there are conflicting keys in these objects")]),t._v(" "),s("h2",{attrs:{id:"event-bus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-bus","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://medium.com/easyread/vue-as-event-bus-life-is-happier-7a04fe5231e1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Event Bus"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("其实就是新建一个 vue 实例，然后通过这个实例 emit 和 on 事件")]),t._v(" "),s("h2",{attrs:{id:"vue-的-hook-mounted-写法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-的-hook-mounted-写法","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://vuedose.tips/tips/10/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue 的 @hook:mounted 写法"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("在一些情景下，你可能需要让父组件了解到你的组件什么时候被创建，挂载，更新，特别是当你构建组件库的时候")]),t._v(" "),s("p",[t._v("举个例子，如果你想在第三方库，"),s("code",[t._v("v-runtime-template")]),t._v("渲染的时候做点什么，你可以这样监听它的 "),s("code",[t._v("updated")]),t._v("钩子,"),s("a",{attrs:{href:"https://codesandbox.io/s/18r05pkmn7",target:"_blank",rel:"noopener noreferrer"}},[t._v("点我验证"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("runtime"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("template @hook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("updated"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"template"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])])},[],!1,null,null,null);a.default=n.exports}}]);