(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{337:function(t,a,e){"use strict";e.r(a);var s=e(38),r=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"react-hooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" React Hooks")]),t._v(" "),e("p",[t._v('什么是 Hooks？Hooks 是一个 React 函数组件内一类特殊的函数（通常以 "use" 开头，比如 "useState"），使开发者能够在 function component 里依旧使用 state 和 life-cycles，以及使用 custom hook 复用业务逻辑。')]),t._v(" "),e("h2",{attrs:{id:"setstate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setstate","aria-hidden":"true"}},[t._v("#")]),t._v(" setState()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" stateChange"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n直接传入一个对象\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("quantity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"react-写类简化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-写类简化","aria-hidden":"true"}},[t._v("#")]),t._v(" React 写类简化")]),t._v(" "),e("p",[t._v('import React, { Component } from "react";')]),t._v(" "),e("p",[t._v("这样子，你写类的时候，可以直接写")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("test")]),t._v(" extend Component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"修改数组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改数组","aria-hidden":"true"}},[t._v("#")]),t._v(" 修改数组")]),t._v(" "),e("h2",{attrs:{id:"how-do-i-add-an-element-to-array-in-reducer-of-react-native-redux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-do-i-add-an-element-to-array-in-reducer-of-react-native-redux","aria-hidden":"true"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"http://stackoverflow.link/question/40911194",target:"_blank",rel:"noopener noreferrer"}},[t._v("How do I add an element to array in reducer of React native redux?"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Two different options to add item to an array without mutation")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD_ITEM")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newItem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("OR")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD_ITEM")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newItem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"循环的时候使用-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#循环的时候使用-key","aria-hidden":"true"}},[t._v("#")]),t._v(" 循环的时候使用 key")]),t._v(" "),e("p",[t._v("You should add a key to each child as well as each element inside children.")]),t._v(" "),e("p",[t._v("This way React can handle the minimal DOM change.")]),t._v(" "),e("p",[e("strong",[t._v("React uses the "),e("code",[t._v("key")]),t._v(" prop to understand the component-to-DOM Element relation")]),t._v(", which is then used for the "),e("a",{attrs:{href:"https://facebook.github.io/react/docs/reconciliation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reconciliation process"),e("OutboundLink")],1),t._v(". It is therefore very important that the key "),e("em",[t._v("always")]),t._v(" remains "),e("em",[t._v("unique")]),t._v(", otherwise there is a good chance React will mix up the elements and mutate the incorrect one. It is also important that these keys "),e("em",[t._v("remain static")]),t._v(" throughout all re-renders in order to maintain best performance.")]),t._v(" "),e("p",[t._v("That being said, one does not "),e("em",[t._v("always")]),t._v(" need to apply the above, provided it is "),e("em",[t._v("known")]),t._v(" that the array is completely static. However, applying best practices is encouraged whenever possible.")]),t._v(" "),e("p",[t._v("A React developer said in "),e("a",{attrs:{href:"https://github.com/facebook/react/issues/1342#issuecomment-39230939",target:"_blank",rel:"noopener noreferrer"}},[t._v("this GitHub issue"),e("OutboundLink")],1),t._v(":")]),t._v(" "),e("blockquote",[e("ul",[e("li",[t._v("key is not really about performance, it's more about identity (which in turn leads to better performance). randomly assigned and changing values are not identity")]),t._v(" "),e("li",[t._v("We can't realistically provide keys without knowing how your data is modeled. I would suggest maybe using some sort of hashing function if you don't have ids")]),t._v(" "),e("li",[t._v("We already have internal keys when we use arrays, but they are the index in the array. When you insert a new element, those keys are wrong.")])])]),t._v(" "),e("p",[t._v("In short, a "),e("code",[t._v("key")]),t._v(" should be:")]),t._v(" "),e("h2",{attrs:{id:"react-如何向组件里面的函数传递参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-如何向组件里面的函数传递参数","aria-hidden":"true"}},[t._v("#")]),t._v(" react 如何向组件里面的函数传递参数")]),t._v(" "),e("blockquote",[e("p",[t._v("果然 react 需要一个前端工程师有点水平之后才能写，"),e("a",{attrs:{href:"https://segmentfault.com/q/1010000008136261",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[t._v("使用匿名函数包装一下")]),t._v(" "),e("li",[t._v("使用 bind，传递参数")])]),t._v(" "),e("h2",{attrs:{id:"函数方法也可以不用绑定-this"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#函数方法也可以不用绑定-this","aria-hidden":"true"}},[t._v("#")]),t._v(" 函数方法也可以不用绑定 this")]),t._v(" "),e("blockquote",[e("p",[t._v("每次写函数都要在构造函数里面绑定一个 this，实在是有点烦，可以尝试这样的写法")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("doSomething")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里写代码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"render-props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#render-props","aria-hidden":"true"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://reactjs.org/docs/render-props.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("render props"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("看了好几遍，说到底就是解决了一个问题，就是 props 的我是谁，我从那里来，我会不会和其他兄弟们冲突的问题")]),t._v(" "),e("h2",{attrs:{id:"react-ts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-ts","aria-hidden":"true"}},[t._v("#")]),t._v(" react & ts")]),t._v(" "),e("h3",{attrs:{id:"create-react-app-创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-react-app-创建","aria-hidden":"true"}},[t._v("#")]),t._v(" create-react-app 创建")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npx create-react-app my-app --typescript\n")])])]),e("h3",{attrs:{id:"如何使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何使用","aria-hidden":"true"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/react-&-webpack.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"how-why-a-guide-to-using-typescript-with-react"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-why-a-guide-to-using-typescript-with-react","aria-hidden":"true"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://blog.logrocket.com/how-why-a-guide-to-using-typescript-with-react-fffb76c61614",target:"_blank",rel:"noopener noreferrer"}},[t._v("how-why-a-guide-to-using-typescript-with-react"),e("OutboundLink")],1)]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"react-test"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-test","aria-hidden":"true"}},[t._v("#")]),t._v(" react test")]),t._v(" "),e("h3",{attrs:{id:"snapshots"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#snapshots","aria-hidden":"true"}},[t._v("#")]),t._v(" snapshots")]),t._v(" "),e("p",[t._v("快照，和之前的进行比对，如果自己无意间进行修改了，那么就是有问题的。但是这个肯定是有问题的，因为 UI 本身就不是静态的，咱们前端工程师很少改动不改 UI 的。")]),t._v(" "),e("p",[t._v("快照测试很容易失败，因为我们前端就是来写页面的啊。快照测试跟不上前端开发的速度。")]),t._v(" "),e("p",[t._v("更新你的快照")]),t._v(" "),e("p",[t._v("jest --update-snapshots")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("测试的关键四点")]),t._v(" "),e("ul",[e("li",[t._v("validity")]),t._v(" "),e("li",[t._v("reliability")]),t._v(" "),e("li",[t._v("objectivity")]),t._v(" "),e("li",[t._v("usability")])]),t._v(" "),e("p",[t._v("Finally, the line "),e("strong",[t._v("expect(tree).toMatchSnapshot()")]),t._v(" does one of these two things")]),t._v(" "),e("ul",[e("li",[t._v("If a snapshot already exists on disk, it compares the new snapshot in tree to the one on disk. If they match, the test passes.")]),t._v(" "),e("li",[t._v("If they don't, the test fails.If a snapshot does not already exist, it creates one, and the test passes.")])]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("Shallow rendering will only render one level, that's part of the specs for it.")])])},[],!1,null,null,null);a.default=r.exports}}]);